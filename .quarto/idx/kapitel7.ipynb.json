{"title":"Datenvisualisierung mit Python, Matplotlib und Seaborn","markdown":{"yaml":{"title":"Datenvisualisierung mit Python, Matplotlib und Seaborn"},"headingText":"Einführung","containsRefs":false,"markdown":"\n\n\n\n\nDieses Tutorial ist das siebte einer Reihe zur Einführung in die Programmierung und Datenanalyse mithilfe der Python-Programmiersprache. Diese Tutorials basieren auf einem praktischen, programmbasierten Ansatz. Der beste Weg, das Material zu erlernen, besteht darin, den Code auszuführen und mit den Beispielen zu experimentieren.\n\nDie folgenden Themen werden in diesem Tutorial behandelt:\n\n* [Liniendiagramm](#liniendiagramm)\n* [Streudiagramm](#streudiagramm)\n* [Histogramm](#histogramm)\n* [Balkendiagramm](#balkendiagramm)\n* [Heatmap](#heatmap)\n* [Bilder](#bilder)\n* [Mehrere Diagramme in einem Raster darstellen](#raster)\n\n\n\n\nUnter Datenvisualisierung versteht man die grafische Darstellung von Daten. Dabei geht es um die Erstellung von Bildern, die dem Betrachter Beziehungen zwischen den dargestellten Daten vermitteln. Die Visualisierung von Daten ist ein wesentlicher Bestandteil der Datenanalyse und des maschinellen Lernens. In diesem Tutorial verwenden wir die Python-Bibliotheken [Matplotlib](https://matplotlib.org) und [Seaborn](https://seaborn.pydata.org), um einige beliebte Datenvisualisierungstechniken zu erlernen und anzuwenden.\n\nZunächst importieren wir die Bibliotheken. Wir verwenden `matplotlib.pyplot` für grundlegende Diagramme wie Linien- und Balkendiagramme. Es wird oft mit dem Alias `plt` importiert. Das Modul `seaborn` wird für fortgeschrittenere Plots verwendet und mit dem Alias `sns` importiert.\n\nBeachten Sie, dass wir auch den speziellen Befehl `%matplotlib inline` einschließen, um sicherzustellen, dass Diagramme im Jupyter-Notebook selbst angezeigt und eingebettet werden. Ohne diesen Befehl werden Diagramme manchmal in Popup-Fenstern angezeigt.\n\n<a id='liniendiagramm'></a>\n\n## Liniendiagramm\n\nLiniendiagramme sind eine der einfachsten und am weitesten verbreiteten Techniken zur Datenvisualisierung. Ein Liniendiagramm zeigt Informationen als eine Reihe von Datenpunkten oder Markierungen an, die durch gerade Linien verbunden sind. Für eine bessere visuelle Klarheit können Sie Form, Größe, Farbe und andere ästhetische Elemente der Markierungen und Linien anpassen.\n\nHier ist eine Python-Liste, die den Apfelertrag (Tonnen pro Hektar) über 6 Jahre in einem imaginären Land namens Kanto zeigt.\n\nMithilfe eines Liniendiagramms können wir visualisieren, wie sich der Ertrag von Äpfeln im Laufe der Zeit verändert. Um ein Liniendiagramm zu zeichnen, können wir die Funktion `plt.plot` verwenden.\n\nDurch Aufrufen der Funktion `plt.plot` wird das Liniendiagramm wie erwartet gezeichnet und außerdem eine Liste der gezeichneten Diagramme `[<matplotlib.lines.Line2D at 0x7ff70aa20760>]` zurückgegeben, die in der Ausgabe angezeigt wird. Wir können am Ende der letzten Anweisung in der Zelle ein Semikolon (`;`) einfügen, um die Ausgabe zu vermeiden und nur das Diagramm anzuzeigen.\n\nLassen Sie uns diese Handlung Schritt für Schritt verbessern, um sie informativer und schöner zu machen.\n\n### Anpassen der X-Achse\n\nDie X-Achse des Diagramms zeigt derzeit die Listenelementindizes 0 bis 5. Das Diagramm wäre aussagekräftiger, wenn wir das Jahr anzeigen könnten, für das die Daten aufgezeichnet werden. Wir können dies durch zwei Argumente `plt.plot` tun.\n\n### Achsenbeschriftungen\n\nMit den Methoden `plt.xlabel` und `plt.ylabel` können wir den Achsen Beschriftungen hinzufügen, um zu zeigen, was jede Achse darstellt.\n\n### Mehrere Linien plotten\n\nEs ist wirklich einfach, mehrere Linien im selben Diagramm darzustellen. Rufen Sie einfach mehrmals die Funktion `plt.plot` auf. Vergleichen wir die Erträge von Äpfeln und Orangen in Kanto.\n\n### Diagrammtitel und Legende\n\nUm zwischen mehreren Linien zu unterscheiden, können wir mit der Funktion `plt.legend` eine Legende in das Diagramm einfügen. Außerdem geben wir dem gesamten Diagramm mit der Funktion `plt.title` einen Titel.\n\n### Linienmarkierungen\n\nWir können auch Markierungen für die Datenpunkte auf jeder Zeile anzeigen, indem wir das Argument `marker` von `plt.plot` verwenden. Matplotlib unterstützt viele verschiedene Arten von Markierungen wie Kreis, Kreuz, Quadrat, Raute usw. Die vollständige Liste der Markierungstypen finden Sie [hier](https://matplotlib.org/3.1.1/api/markers_api.html)\n\n### Linien und Markierungen gestalten\n\nDie Funktion `plt.plot` unterstützt viele Argumente zur Gestaltung von Linien und Markierungen:\n\n- `color` oder `c`: Legt die Farbe der Linie fest ([unterstützte Farben](https://matplotlib.org/3.1.0/gallery/color/named_colors.html))\n- `linestyle` oder `ls`: Wahl zwischen einer durchgezogenen oder gestrichelten Linie\n- `linewidth` oder `lw`: Legt die Breite einer Linie fest\n- `markersize` oder `ms`: Legt die Größe der Markierungen fest\n- `markeredgecolor` oder `mec`: Legt die Randfarbe für Markierungen fest\n- `markeredgewidth` oder `mew`: Legt die Randbreite für Markierungen fest\n- `markerfacecolor` oder `mfc`: Legt die Füllfarbe für Markierungen fest\n- `alpha`: Deckkraft des Plots\n\nSchau dir die [Dokumentation](https://matplotlib.org/api/_as_gen/matplotlib.pyplot.plot.html#matplotlib.pyplot.plot) für `plt.plot` an, um mehr zu erfahren.\n\nDas Argument `fmt` bietet eine Abkürzung für die Angabe des Linienstils, der Markierung und der Linienfarbe. Es kann als drittes Argument für `plt.plot` bereitgestellt werden.\n\n```\nfmt = '[marker][line][color]'\n```\n\nWenn in `fmt` kein Linienstil angegeben ist, werden nur Markierungen gezeichnet.\n\n### Ändern der Figurengröße\n\nMit der Funktion `plt.figure` können Sie die Größe der Figur ändern.\n\n### Verbesserung der Standardstile mit Seaborn\n\nEine einfache Möglichkeit, Ihren Diagrammen ein ansprechendes Aussehen zu verleihen, besteht darin, einige in der Seaborn-Bibliothek bereitgestellte Standardstile zu verwenden. Diese können global mit der Funktion `sns.set_style` angewendet werden. Eine vollständige Liste der vordefinierten Stile finden Sie [hier](https://seaborn.pydata.org/generated/seaborn.set_style.html).\n\nSie können Standardstile auch direkt bearbeiten, indem Sie das Wörterbuch `matplotlib.rcParams` ändern. Erfahren Sie mehr [hier](https://matplotlib.org/3.2.1/tutorials/introductory/customizing.html#matplotlib-rcparams).\n\n<a id='streudiagramm'></a>\n\n## Streudiagramm\n\nIn einem Streudiagramm werden die Werte von zwei Variablen als Punkte in einem zweidimensionalen Gitter dargestellt. Darüber hinaus können Sie auch eine dritte Variable verwenden, um die Größe oder Farbe der Punkte zu bestimmen. Probieren wir es an einem Beispiel aus.\n\nDer [Irisblütendatensatz](https://en.wikipedia.org/wiki/Iris_flower_data_set) bietet Beispielmessungen von Kelch- und Blütenblättern für drei Blumenarten. Der Iris-Datensatz ist in der Seaborn-Bibliothek enthalten und kann als Pandas Data Frame geladen werden.\n\nVersuchen wir, die Beziehung zwischen Kelchblattlänge und Kelchblattbreite zu veranschaulichen. Unser erster Instinkt könnte sein, mit `plt.plot` ein Liniendiagramm zu erstellen. Allerdings ist die Ausgabe nicht sehr aussagekräftig, da der Datensatz zu viele Kombinationen der beiden Eigenschaften enthält und es scheinbar keine einfache Beziehung zwischen ihnen gibt.\n\nMit der `Scatterplot`-Funktion von `seaborn` (importiert als `sns`) können wir ein Streudiagramm verwenden, um zu visualisieren, wie sich sepal length und sepal width unterscheiden.\n\n### Farbtöne hinzufügen\n\nBeachten Sie, dass die Punkte im obigen Diagramm mit einigen Ausreißern unterschiedliche Cluster zu bilden scheinen. Wir können die Punkte einfärben, indem wir die Blumenart als `hue` verwenden. Wir können die Punkte auch mit dem Argument `s` vergrößern.\n\nDurch das Hinzufügen von Farbtönen wird die Handlung informativer. Wir können sofort erkennen, dass die Blüten der Setosa-Art eine geringere Kelchlänge, aber eine größere Kelchbreite haben, während bei der Virginica-Art das Gegenteil der Fall ist.\n\n### Anpassen von Seaborn-Figuren\n\nDa Seaborn intern die Plotfunktionen von Matplotlib verwendet, können wir Funktionen wie `plt.figure` und `plt.title` verwenden, um die Figur zu ändern.\n\n### Plotten mit Pandas Data Frames\n\nSeaborn bietet integrierte Unterstützung für Pandas Data Frames. Anstatt jede Spalte als Reihe zu übergeben, können Sie auch Spaltennamen übergeben und das Argument `data` verwenden, um das Data Frame zu übergeben.\n\n<a id='histogramm'></a>\n\n## Histogramm\n\nEin Histogramm stellt die Verteilung von Daten dar, indem es Abschnitte entlang des Datenbereichs bildet und dann Balken zeichnet, um die Anzahl der Beobachtungen anzuzeigen, die in jeden Abschnitt fallen.\n\nLassen Sie uns als Beispiel visualisieren, wie die Werte der Kelchblattbreite im Blumendatensatz verteilt sind. Wir können die Funktion `plt.hist` verwenden, um ein Histogramm zu erstellen.\n\nWir können sofort erkennen, dass die Werte der Kelchblattbreite im Bereich von 2,0 bis 4,5 liegen und etwa 35 Werte im Bereich von 2,9 bis 3,1 liegen, was der größte Bereich zu sein scheint.\n\n### Kontrolle der Größe und Anzahl der Bins\n\nMit dem Argument `bins` können wir die Anzahl der Bins oder die Größe jedes Bins steuern.\n\n### Mehrere Histogramme\n\nÄhnlich wie bei Liniendiagrammen können wir mehrere Histogramme in einem einzigen Diagramm zeichnen. Wir können die Deckkraft jedes Histogramms verringern, sodass die Balken eines Histogramms die Balken anderer nicht verbergen.\n\nLassen Sie uns für jede Blumenart separate Histogramme zeichnen.\n\nWir können auch mehrere Histogramme übereinander stapeln.\n\n<a id='balkendiagramm'></a>\n\n## Balkendiagramm\n\n### Grundlagen\n\nBalkendiagramme sind Liniendiagrammen sehr ähnlich, d. h. sie zeigen eine Abfolge von Werten, allerdings wird für jeden Wert ein Balken angezeigt und nicht die durch Linien verbundenen Punkte. Wir können die Funktion `plt.bar` verwenden, um ein Balkendiagramm zu zeichnen.\n\nWie Histogramme können auch Balken übereinander gestapelt werden. Um dies zu erreichen, verwenden wir das Argument `bottom` für `plt.bar`.\n\n### Balkendiagramme mit Durchschnittswerten\n\nSchauen wir uns einen weiteren Beispieldatensatz an, der in Seaborn enthalten ist und `tips` heißt. Der Datensatz enthält Informationen zu Geschlecht, Tageszeit, Gesamtrechnung und Trinkgeldbetrag für Kunden, die über eine Woche hinweg ein Restaurant besuchen.\n\nMöglicherweise möchten wir ein Balkendiagramm zeichnen, um zu veranschaulichen, wie der durchschnittliche Rechnungsbetrag an verschiedenen Wochentagen variiert. Eine Möglichkeit, dies zu tun, wäre, die Tagesdurchschnitte zu berechnen und dann `plt.bar` zu verwenden (versuchen Sie es als Übung).\n\nDa dies jedoch ein sehr häufiger Anwendungsfall ist, bietet die Seaborn-Bibliothek eine `Barplot`-Funktion, mit der Durchschnittswerte automatisch berechnet werden können.\n\nDie Linien, die jeden Balken schneiden, stellen das Ausmaß der Variation in den Werten dar. So scheint es zum Beispiel so zu sein, dass die Schwankung der Gesamtrechnung freitags recht hoch und am Samstag geringer war.\n\nWir können auch ein `hue`-Argument angeben, um Balkendiagramme nebeneinander zu vergleichen, basierend auf einem dritten Merkmal, z. B. Sex.\n\nSie können die Balken einfach durch Vertauschen der Achsen horizontal machen.\n\n<a id='heatmap'></a>\n\n## Heatmap\n\nEine Heatmap wird verwendet, um zweidimensionale Daten wie eine Matrix oder eine Tabelle mithilfe von Farben zu visualisieren. Der beste Weg, es zu verstehen, ist, sich ein Beispiel anzusehen. Wir verwenden einen weiteren Beispieldatensatz von Seaborn mit der Bezeichnung „flights“, um die monatliche Passagierfrequenz an einem Flughafen über einen Zeitraum von 12 Jahren zu visualisieren.\n\n`flights_df` ist eine Matrix mit einer Zeile für jeden Monat und einer Spalte für jedes Jahr. Die Werte in der Matrix zeigen die Anzahl der Passagiere (in Tausend), die den Flughafen in einem bestimmten Monat eines bestimmten Jahres besuchten. Mit der Funktion `sns.heatmap` können wir die Passantenfrequenz am Flughafen visualisieren.\n\nDie helleren Farben weisen auf eine höhere Passantenfrequenz am Flughafen hin. Wenn wir uns die Grafik ansehen, können wir zwei Dinge ableiten:\n\n- Die Besucherfrequenz am Flughafen ist in jedem Jahr im Juli und August am höchsten.\n- Die Besucherfrequenz am Flughafen nimmt in jedem Monat von Jahr zu Jahr zu.\n\nWir können auch die tatsächlichen Werte in jedem Block anzeigen, indem wir `annot=True` angeben und das Argument `cmap` verwenden, um die Farbpalette zu ändern.\n\n<a id='bilder'></a>\n\n## Bilder\n\nMatplotlib kann auch zum Anzeigen von Bildern verwendet werden.\n\nBevor ein Bild angezeigt werden kann, muss es mit dem Modul `PIL` in den Speicher eingelesen werden.\nNutzen wir hierfür das Bild aus dem Data Ordner `chart.jpg`.\n\nEin mit PIL geladenes Bild ist einfach ein dreidimensionales Numpy-Array, das Pixelintensitäten für die roten, grünen und blauen (RGB) Kanäle des Bildes enthält. Wir können das Bild mit `np.array` in ein Array konvertieren.\n\nWir können das PIL-Bild mit `plt.imshow` anzeigen.\n\nMit den entsprechenden Funktionen können wir die Achsen und Gitterlinien ausschalten und einen Titel anzeigen.\n\nUm einen Teil des Bildes anzuzeigen, können wir einfach ein Segment aus dem Numpy-Array auswählen.\n\n<a id='raster'></a>\n\n## Mehrere Diagramme in einem Raster darstellen\n\n### Grundlagen\n\nMatplotlib und Seaborn unterstützen auch das Plotten mehrerer Diagramme in einem Raster mithilfe von `plt.subplots`, das einen Satz von Achsen zurückgibt, die zum Plotten verwendet werden können.\n\nHier ist ein einzelnes Raster, das die verschiedenen Arten von Diagrammen zeigt, die wir in diesem Tutorial behandelt haben.\n\nEine vollständige Liste der unterstützten Funktionen finden Sie auf dieser [Seite](https://matplotlib.org/3.3.1/api/axes_api.html#the-axes-class).\n\n### Parzellen mit Seaborn koppeln\n\nSeaborn bietet außerdem eine Hilfsfunktion `sns.pairplot`, um automatisch verschiedene Arten von Diagrammen für Merkmalspaare innerhalb eines Data Frames zu zeichnen.\n\n## Weiterführende Literatur\n\nIn diesem Tutorial haben wir einige der grundlegenden Konzepte und beliebten Techniken zur Datenvisualisierung mit Matplotlib und Seaborn behandelt. Datenvisualisierung ist ein weites Feld und wir haben hier kaum an der Oberfläche gekratzt. Schauen Sie sich diese Referenzen an, um mehr zu erfahren und zu entdecken:\n\n* [Seaborn-Galerie](https://seaborn.pydata.org/examples/index.html)\n* [Matplotlib-Galerie](https://matplotlib.org/3.1.1/gallery/index.html)\n* [Matplotlib-Tutorial](https://github.com/rougier/matplotlib-tutorial)\n","srcMarkdownNoYaml":"\n\n\n\n\nDieses Tutorial ist das siebte einer Reihe zur Einführung in die Programmierung und Datenanalyse mithilfe der Python-Programmiersprache. Diese Tutorials basieren auf einem praktischen, programmbasierten Ansatz. Der beste Weg, das Material zu erlernen, besteht darin, den Code auszuführen und mit den Beispielen zu experimentieren.\n\nDie folgenden Themen werden in diesem Tutorial behandelt:\n\n* [Liniendiagramm](#liniendiagramm)\n* [Streudiagramm](#streudiagramm)\n* [Histogramm](#histogramm)\n* [Balkendiagramm](#balkendiagramm)\n* [Heatmap](#heatmap)\n* [Bilder](#bilder)\n* [Mehrere Diagramme in einem Raster darstellen](#raster)\n\n\n\n## Einführung\n\nUnter Datenvisualisierung versteht man die grafische Darstellung von Daten. Dabei geht es um die Erstellung von Bildern, die dem Betrachter Beziehungen zwischen den dargestellten Daten vermitteln. Die Visualisierung von Daten ist ein wesentlicher Bestandteil der Datenanalyse und des maschinellen Lernens. In diesem Tutorial verwenden wir die Python-Bibliotheken [Matplotlib](https://matplotlib.org) und [Seaborn](https://seaborn.pydata.org), um einige beliebte Datenvisualisierungstechniken zu erlernen und anzuwenden.\n\nZunächst importieren wir die Bibliotheken. Wir verwenden `matplotlib.pyplot` für grundlegende Diagramme wie Linien- und Balkendiagramme. Es wird oft mit dem Alias `plt` importiert. Das Modul `seaborn` wird für fortgeschrittenere Plots verwendet und mit dem Alias `sns` importiert.\n\nBeachten Sie, dass wir auch den speziellen Befehl `%matplotlib inline` einschließen, um sicherzustellen, dass Diagramme im Jupyter-Notebook selbst angezeigt und eingebettet werden. Ohne diesen Befehl werden Diagramme manchmal in Popup-Fenstern angezeigt.\n\n<a id='liniendiagramm'></a>\n\n## Liniendiagramm\n\nLiniendiagramme sind eine der einfachsten und am weitesten verbreiteten Techniken zur Datenvisualisierung. Ein Liniendiagramm zeigt Informationen als eine Reihe von Datenpunkten oder Markierungen an, die durch gerade Linien verbunden sind. Für eine bessere visuelle Klarheit können Sie Form, Größe, Farbe und andere ästhetische Elemente der Markierungen und Linien anpassen.\n\nHier ist eine Python-Liste, die den Apfelertrag (Tonnen pro Hektar) über 6 Jahre in einem imaginären Land namens Kanto zeigt.\n\nMithilfe eines Liniendiagramms können wir visualisieren, wie sich der Ertrag von Äpfeln im Laufe der Zeit verändert. Um ein Liniendiagramm zu zeichnen, können wir die Funktion `plt.plot` verwenden.\n\nDurch Aufrufen der Funktion `plt.plot` wird das Liniendiagramm wie erwartet gezeichnet und außerdem eine Liste der gezeichneten Diagramme `[<matplotlib.lines.Line2D at 0x7ff70aa20760>]` zurückgegeben, die in der Ausgabe angezeigt wird. Wir können am Ende der letzten Anweisung in der Zelle ein Semikolon (`;`) einfügen, um die Ausgabe zu vermeiden und nur das Diagramm anzuzeigen.\n\nLassen Sie uns diese Handlung Schritt für Schritt verbessern, um sie informativer und schöner zu machen.\n\n### Anpassen der X-Achse\n\nDie X-Achse des Diagramms zeigt derzeit die Listenelementindizes 0 bis 5. Das Diagramm wäre aussagekräftiger, wenn wir das Jahr anzeigen könnten, für das die Daten aufgezeichnet werden. Wir können dies durch zwei Argumente `plt.plot` tun.\n\n### Achsenbeschriftungen\n\nMit den Methoden `plt.xlabel` und `plt.ylabel` können wir den Achsen Beschriftungen hinzufügen, um zu zeigen, was jede Achse darstellt.\n\n### Mehrere Linien plotten\n\nEs ist wirklich einfach, mehrere Linien im selben Diagramm darzustellen. Rufen Sie einfach mehrmals die Funktion `plt.plot` auf. Vergleichen wir die Erträge von Äpfeln und Orangen in Kanto.\n\n### Diagrammtitel und Legende\n\nUm zwischen mehreren Linien zu unterscheiden, können wir mit der Funktion `plt.legend` eine Legende in das Diagramm einfügen. Außerdem geben wir dem gesamten Diagramm mit der Funktion `plt.title` einen Titel.\n\n### Linienmarkierungen\n\nWir können auch Markierungen für die Datenpunkte auf jeder Zeile anzeigen, indem wir das Argument `marker` von `plt.plot` verwenden. Matplotlib unterstützt viele verschiedene Arten von Markierungen wie Kreis, Kreuz, Quadrat, Raute usw. Die vollständige Liste der Markierungstypen finden Sie [hier](https://matplotlib.org/3.1.1/api/markers_api.html)\n\n### Linien und Markierungen gestalten\n\nDie Funktion `plt.plot` unterstützt viele Argumente zur Gestaltung von Linien und Markierungen:\n\n- `color` oder `c`: Legt die Farbe der Linie fest ([unterstützte Farben](https://matplotlib.org/3.1.0/gallery/color/named_colors.html))\n- `linestyle` oder `ls`: Wahl zwischen einer durchgezogenen oder gestrichelten Linie\n- `linewidth` oder `lw`: Legt die Breite einer Linie fest\n- `markersize` oder `ms`: Legt die Größe der Markierungen fest\n- `markeredgecolor` oder `mec`: Legt die Randfarbe für Markierungen fest\n- `markeredgewidth` oder `mew`: Legt die Randbreite für Markierungen fest\n- `markerfacecolor` oder `mfc`: Legt die Füllfarbe für Markierungen fest\n- `alpha`: Deckkraft des Plots\n\nSchau dir die [Dokumentation](https://matplotlib.org/api/_as_gen/matplotlib.pyplot.plot.html#matplotlib.pyplot.plot) für `plt.plot` an, um mehr zu erfahren.\n\nDas Argument `fmt` bietet eine Abkürzung für die Angabe des Linienstils, der Markierung und der Linienfarbe. Es kann als drittes Argument für `plt.plot` bereitgestellt werden.\n\n```\nfmt = '[marker][line][color]'\n```\n\nWenn in `fmt` kein Linienstil angegeben ist, werden nur Markierungen gezeichnet.\n\n### Ändern der Figurengröße\n\nMit der Funktion `plt.figure` können Sie die Größe der Figur ändern.\n\n### Verbesserung der Standardstile mit Seaborn\n\nEine einfache Möglichkeit, Ihren Diagrammen ein ansprechendes Aussehen zu verleihen, besteht darin, einige in der Seaborn-Bibliothek bereitgestellte Standardstile zu verwenden. Diese können global mit der Funktion `sns.set_style` angewendet werden. Eine vollständige Liste der vordefinierten Stile finden Sie [hier](https://seaborn.pydata.org/generated/seaborn.set_style.html).\n\nSie können Standardstile auch direkt bearbeiten, indem Sie das Wörterbuch `matplotlib.rcParams` ändern. Erfahren Sie mehr [hier](https://matplotlib.org/3.2.1/tutorials/introductory/customizing.html#matplotlib-rcparams).\n\n<a id='streudiagramm'></a>\n\n## Streudiagramm\n\nIn einem Streudiagramm werden die Werte von zwei Variablen als Punkte in einem zweidimensionalen Gitter dargestellt. Darüber hinaus können Sie auch eine dritte Variable verwenden, um die Größe oder Farbe der Punkte zu bestimmen. Probieren wir es an einem Beispiel aus.\n\nDer [Irisblütendatensatz](https://en.wikipedia.org/wiki/Iris_flower_data_set) bietet Beispielmessungen von Kelch- und Blütenblättern für drei Blumenarten. Der Iris-Datensatz ist in der Seaborn-Bibliothek enthalten und kann als Pandas Data Frame geladen werden.\n\nVersuchen wir, die Beziehung zwischen Kelchblattlänge und Kelchblattbreite zu veranschaulichen. Unser erster Instinkt könnte sein, mit `plt.plot` ein Liniendiagramm zu erstellen. Allerdings ist die Ausgabe nicht sehr aussagekräftig, da der Datensatz zu viele Kombinationen der beiden Eigenschaften enthält und es scheinbar keine einfache Beziehung zwischen ihnen gibt.\n\nMit der `Scatterplot`-Funktion von `seaborn` (importiert als `sns`) können wir ein Streudiagramm verwenden, um zu visualisieren, wie sich sepal length und sepal width unterscheiden.\n\n### Farbtöne hinzufügen\n\nBeachten Sie, dass die Punkte im obigen Diagramm mit einigen Ausreißern unterschiedliche Cluster zu bilden scheinen. Wir können die Punkte einfärben, indem wir die Blumenart als `hue` verwenden. Wir können die Punkte auch mit dem Argument `s` vergrößern.\n\nDurch das Hinzufügen von Farbtönen wird die Handlung informativer. Wir können sofort erkennen, dass die Blüten der Setosa-Art eine geringere Kelchlänge, aber eine größere Kelchbreite haben, während bei der Virginica-Art das Gegenteil der Fall ist.\n\n### Anpassen von Seaborn-Figuren\n\nDa Seaborn intern die Plotfunktionen von Matplotlib verwendet, können wir Funktionen wie `plt.figure` und `plt.title` verwenden, um die Figur zu ändern.\n\n### Plotten mit Pandas Data Frames\n\nSeaborn bietet integrierte Unterstützung für Pandas Data Frames. Anstatt jede Spalte als Reihe zu übergeben, können Sie auch Spaltennamen übergeben und das Argument `data` verwenden, um das Data Frame zu übergeben.\n\n<a id='histogramm'></a>\n\n## Histogramm\n\nEin Histogramm stellt die Verteilung von Daten dar, indem es Abschnitte entlang des Datenbereichs bildet und dann Balken zeichnet, um die Anzahl der Beobachtungen anzuzeigen, die in jeden Abschnitt fallen.\n\nLassen Sie uns als Beispiel visualisieren, wie die Werte der Kelchblattbreite im Blumendatensatz verteilt sind. Wir können die Funktion `plt.hist` verwenden, um ein Histogramm zu erstellen.\n\nWir können sofort erkennen, dass die Werte der Kelchblattbreite im Bereich von 2,0 bis 4,5 liegen und etwa 35 Werte im Bereich von 2,9 bis 3,1 liegen, was der größte Bereich zu sein scheint.\n\n### Kontrolle der Größe und Anzahl der Bins\n\nMit dem Argument `bins` können wir die Anzahl der Bins oder die Größe jedes Bins steuern.\n\n### Mehrere Histogramme\n\nÄhnlich wie bei Liniendiagrammen können wir mehrere Histogramme in einem einzigen Diagramm zeichnen. Wir können die Deckkraft jedes Histogramms verringern, sodass die Balken eines Histogramms die Balken anderer nicht verbergen.\n\nLassen Sie uns für jede Blumenart separate Histogramme zeichnen.\n\nWir können auch mehrere Histogramme übereinander stapeln.\n\n<a id='balkendiagramm'></a>\n\n## Balkendiagramm\n\n### Grundlagen\n\nBalkendiagramme sind Liniendiagrammen sehr ähnlich, d. h. sie zeigen eine Abfolge von Werten, allerdings wird für jeden Wert ein Balken angezeigt und nicht die durch Linien verbundenen Punkte. Wir können die Funktion `plt.bar` verwenden, um ein Balkendiagramm zu zeichnen.\n\nWie Histogramme können auch Balken übereinander gestapelt werden. Um dies zu erreichen, verwenden wir das Argument `bottom` für `plt.bar`.\n\n### Balkendiagramme mit Durchschnittswerten\n\nSchauen wir uns einen weiteren Beispieldatensatz an, der in Seaborn enthalten ist und `tips` heißt. Der Datensatz enthält Informationen zu Geschlecht, Tageszeit, Gesamtrechnung und Trinkgeldbetrag für Kunden, die über eine Woche hinweg ein Restaurant besuchen.\n\nMöglicherweise möchten wir ein Balkendiagramm zeichnen, um zu veranschaulichen, wie der durchschnittliche Rechnungsbetrag an verschiedenen Wochentagen variiert. Eine Möglichkeit, dies zu tun, wäre, die Tagesdurchschnitte zu berechnen und dann `plt.bar` zu verwenden (versuchen Sie es als Übung).\n\nDa dies jedoch ein sehr häufiger Anwendungsfall ist, bietet die Seaborn-Bibliothek eine `Barplot`-Funktion, mit der Durchschnittswerte automatisch berechnet werden können.\n\nDie Linien, die jeden Balken schneiden, stellen das Ausmaß der Variation in den Werten dar. So scheint es zum Beispiel so zu sein, dass die Schwankung der Gesamtrechnung freitags recht hoch und am Samstag geringer war.\n\nWir können auch ein `hue`-Argument angeben, um Balkendiagramme nebeneinander zu vergleichen, basierend auf einem dritten Merkmal, z. B. Sex.\n\nSie können die Balken einfach durch Vertauschen der Achsen horizontal machen.\n\n<a id='heatmap'></a>\n\n## Heatmap\n\nEine Heatmap wird verwendet, um zweidimensionale Daten wie eine Matrix oder eine Tabelle mithilfe von Farben zu visualisieren. Der beste Weg, es zu verstehen, ist, sich ein Beispiel anzusehen. Wir verwenden einen weiteren Beispieldatensatz von Seaborn mit der Bezeichnung „flights“, um die monatliche Passagierfrequenz an einem Flughafen über einen Zeitraum von 12 Jahren zu visualisieren.\n\n`flights_df` ist eine Matrix mit einer Zeile für jeden Monat und einer Spalte für jedes Jahr. Die Werte in der Matrix zeigen die Anzahl der Passagiere (in Tausend), die den Flughafen in einem bestimmten Monat eines bestimmten Jahres besuchten. Mit der Funktion `sns.heatmap` können wir die Passantenfrequenz am Flughafen visualisieren.\n\nDie helleren Farben weisen auf eine höhere Passantenfrequenz am Flughafen hin. Wenn wir uns die Grafik ansehen, können wir zwei Dinge ableiten:\n\n- Die Besucherfrequenz am Flughafen ist in jedem Jahr im Juli und August am höchsten.\n- Die Besucherfrequenz am Flughafen nimmt in jedem Monat von Jahr zu Jahr zu.\n\nWir können auch die tatsächlichen Werte in jedem Block anzeigen, indem wir `annot=True` angeben und das Argument `cmap` verwenden, um die Farbpalette zu ändern.\n\n<a id='bilder'></a>\n\n## Bilder\n\nMatplotlib kann auch zum Anzeigen von Bildern verwendet werden.\n\nBevor ein Bild angezeigt werden kann, muss es mit dem Modul `PIL` in den Speicher eingelesen werden.\nNutzen wir hierfür das Bild aus dem Data Ordner `chart.jpg`.\n\nEin mit PIL geladenes Bild ist einfach ein dreidimensionales Numpy-Array, das Pixelintensitäten für die roten, grünen und blauen (RGB) Kanäle des Bildes enthält. Wir können das Bild mit `np.array` in ein Array konvertieren.\n\nWir können das PIL-Bild mit `plt.imshow` anzeigen.\n\nMit den entsprechenden Funktionen können wir die Achsen und Gitterlinien ausschalten und einen Titel anzeigen.\n\nUm einen Teil des Bildes anzuzeigen, können wir einfach ein Segment aus dem Numpy-Array auswählen.\n\n<a id='raster'></a>\n\n## Mehrere Diagramme in einem Raster darstellen\n\n### Grundlagen\n\nMatplotlib und Seaborn unterstützen auch das Plotten mehrerer Diagramme in einem Raster mithilfe von `plt.subplots`, das einen Satz von Achsen zurückgibt, die zum Plotten verwendet werden können.\n\nHier ist ein einzelnes Raster, das die verschiedenen Arten von Diagrammen zeigt, die wir in diesem Tutorial behandelt haben.\n\nEine vollständige Liste der unterstützten Funktionen finden Sie auf dieser [Seite](https://matplotlib.org/3.3.1/api/axes_api.html#the-axes-class).\n\n### Parzellen mit Seaborn koppeln\n\nSeaborn bietet außerdem eine Hilfsfunktion `sns.pairplot`, um automatisch verschiedene Arten von Diagrammen für Merkmalspaare innerhalb eines Data Frames zu zeichnen.\n\n## Weiterführende Literatur\n\nIn diesem Tutorial haben wir einige der grundlegenden Konzepte und beliebten Techniken zur Datenvisualisierung mit Matplotlib und Seaborn behandelt. Datenvisualisierung ist ein weites Feld und wir haben hier kaum an der Oberfläche gekratzt. Schauen Sie sich diese Referenzen an, um mehr zu erfahren und zu entdecken:\n\n* [Seaborn-Galerie](https://seaborn.pydata.org/examples/index.html)\n* [Matplotlib-Galerie](https://matplotlib.org/3.1.1/gallery/index.html)\n* [Matplotlib-Tutorial](https://github.com/rougier/matplotlib-tutorial)\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":false,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"jupyter"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":true,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"toc-depth":3,"number-sections":true,"css":["styles.css"],"output-file":"kapitel7.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.8.25","theme":{"light":"flatly","dark":"darkly"},"code-copy":true,"smooth-scroll":true,"title":"Datenvisualisierung mit Python, Matplotlib und Seaborn"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}